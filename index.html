<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>bigfootsneaks ‚Äî Super Sneaks Deals</title>
  <meta name="description" content="BigFootSneaks ‚Ä¢ Super Sneaks Deals ‚Ä¢ Under ‚Ç¨10 / ‚Ç¨20 ‚Ä¢ Hot drops & daily steals." />
  <meta name="robots" content="index, follow" />
  <link rel="icon" href="/favicon.ico" />
  <style>
    :root{
      --bfs-orange:#f28a00;     /* brand orange */
      --bfs-orange-deep:#d17600;/* shadow/orange */
      --bfs-ink:#111317;        /* dark text */
      --bfs-card:#ffffff;       /* card bg */
      --bfs-muted:#6b7480;      /* dim text */
      --bfs-line:#e7e7ec;       /* borders */
      --bfs-green:#19c37d;      /* accent green */
      --bfs-red:#ff3b30;        /* urgent */
      --bfs-yellow:#ffd400;     /* label alt */
      --maxw:1200px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;background:#fafafa;color:var(--bfs-ink)}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}

    /* Header (orange hero) */
    .hero{background:linear-gradient(0deg,var(--bfs-orange-deep),var(--bfs-orange));color:#fff}
    .hero-inner{max-width:var(--maxw);margin:0 auto;padding:28px 16px 18px;display:grid;grid-template-columns:1fr 360px;gap:24px;align-items:end}
    @media(max-width:980px){.hero-inner{grid-template-columns:1fr}}

    .logo-title{font-weight:900;font-size:56px;letter-spacing:.5px;line-height:1;position:relative;margin:0 0 8px}
    .logo-title::after{content:"bigfootsneaks";position:absolute;left:4px;top:4px;color:rgba(255,255,255,.35);filter:blur(2px);z-index:0}
    .logo-title span{position:relative;z-index:1}
    .strap{margin:0;color:rgba(255,255,255,.9)}

    .hero-left{padding-right:8px}
    .hero-right{display:flex;justify-content:center;align-items:flex-end}
    .mascot{max-height:280px;filter:drop-shadow(0 10px 18px rgba(17,19,23,.25))}
    @media(max-width:980px){.mascot{max-height:220px;margin:4px auto 0}}

    /* Page shell */
    .wrap{max-width:var(--maxw);margin:0 auto;padding:18px 16px}
    .section-title{display:flex;align-items:center;gap:10px;margin:10px 0 8px}
    .section-title h2{margin:0;font-size:1.25rem}
    .pill{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;background:#111317;color:#fff;font-weight:700}

    /* Layout: main grid with aside mascot sticky on desktop */
    .layout{display:grid;grid-template-columns:1fr 320px;gap:24px}
    @media(max-width:1100px){.layout{grid-template-columns:1fr}}

    .sticky{position:sticky;top:16px}

    /* Cards */
    .grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:16px}
    @media(max-width:980px){.grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media(max-width:640px){.grid{grid-template-columns:1fr}}

    .card{background:var(--bfs-card);border:1px solid var(--bfs-line);border-radius:14px;overflow:hidden;display:flex;flex-direction:column}
    .media{aspect-ratio:16/9;background:#f3f5f7}
    .body{padding:12px 14px;display:flex;flex-direction:column;gap:8px}
    .title{font-weight:800;font-size:1rem}
    .meta{display:flex;justify-content:space-between;align-items:center;color:var(--bfs-muted);font-size:.9rem}
    .labels{display:flex;flex-wrap:wrap;gap:6px}
    .label{font-size:.72rem;font-weight:700;padding:4px 8px;border-radius:999px;background:#eee;border:1px solid var(--bfs-line)}
    .l1{background:#ffe9cc;border-color:#ffd9a1}
    .l2{background:#ffe3e1;border-color:#ffc0bc}
    .l3{background:#e5ffef;border-color:#b5f2cf}
    .l4{background:#e9edff;border-color:#c3ceff}
    .l5{background:#fff6c4;border-color:#ffe585}
    .l6{background:#f1f1f1;border-color:#dedede}

    .cta{display:flex;gap:8px;margin-top:auto}
    .btn{flex:1;text-align:center;padding:10px 12px;border-radius:10px;border:1px solid var(--bfs-line);background:#111317;color:#fff;font-weight:800}
    .btn.secondary{background:#fff;color:#111317}
    .flag{position:absolute;top:10px;left:10px;background:var(--bfs-red);color:#fff;font-weight:900;border-radius:999px;padding:4px 10px;font-size:.75rem;box-shadow:0 6px 14px rgba(0,0,0,.18)}
    .flag.green{background:var(--bfs-green);color:#062e1e}

    /* Footer */
    footer{margin:28px 0;color:#6b7480;font-size:.9rem;border-top:1px solid var(--bfs-line);padding-top:12px;display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap}
  </style>
</head>
<body>
  <!-- HERO -->
  <section class="hero">
    <div class="hero-inner">
      <div class="hero-left">
        <h1 class="logo-title"><span>bigfootsneaks</span></h1>
        <p class="strap">Super Sneaks Deals ‚Ä¢ Under ‚Ç¨10 / ‚Ç¨20 ‚Ä¢ Hot drops</p>
      </div>
      <div class="hero-right">
        <!-- Upload bfs-mascot.png naast index.html -->
        <img class="mascot" src="./bfs-mascot.png" alt="BFS mascot" onerror="this.style.display='none'"/>
      </div>
    </div>
  </section>

  <div class="wrap layout">
    <!-- MAIN CONTENT -->
    <main>
      <!-- SUPER DEALS (featured=true) -->
      <div class="section-title">
        <h2>Super Sneaks Deals</h2>
        <span class="pill">üî• Now or Never</span>
      </div>
      <section id="super" class="grid" aria-live="polite"></section>

      <!-- NORMAL DEALS -->
      <div class="section-title" style="margin-top:18px">
        <h2>Deals</h2>
        <span class="pill" style="background:var(--bfs-orange);">‚ö° Updated Daily</span>
      </div>
      <section id="list" class="grid" aria-live="polite"></section>
    </main>

    <!-- OPTIONAL STICKY SIDEBAR (mascot repeat on desktop) -->
    <aside class="sticky" aria-hidden="true">
      <img class="mascot" src="./bfs-mascot.png" alt="" onerror="this.style.display='none'"/>
    </aside>
  </div>

  <div class="wrap">
    <footer>
      <div>ü¶ç Kuch kuch, here we go!</div>
      <div>¬© <span id="y"></span> bigfootsneaks</div>
    </footer>
  </div>

<script>
// ==================== MINI CMS via CSV ====================
// Maak in dezelfde map een bestand: products.csv
// Kolommen: id,title,price,merchant,category,image,url,labels,featured
// - price: laat leeg als je geen prijs wil tonen
// - labels: getallen gescheiden door |, bv "1|3|6" (Label 1 t/m 6)
// - featured: true/false (true => komt in Super Sneaks Deals)

const EUR = new Intl.NumberFormat('nl-NL',{style:'currency',currency:'EUR'});
const labelMap = { '1':'Label 1','2':'Label 2','3':'Label 3','4':'Label 4','5':'Label 5','6':'Label 6' };

function parseCSV(text){
  const lines = text.split(/
?
/).filter(Boolean);
  const headers = lines.shift().split(',');
  const rows = [];
  for(const line of lines){
    const out=[]; let cur=''; let q=false; for(let i=0;i<line.length;i++){
      const ch=line[i];
      if(ch==='"'){ if(q && line[i+1]==='"'){cur+='"'; i++;} else { q=!q; } }
      else if(ch===',' && !q){ out.push(cur); cur=''; }
      else cur+=ch;
    }
    out.push(cur);
    const obj={}; headers.forEach((h,idx)=>obj[h.trim()]=(out[idx]||'').trim()); rows.push(obj);
  }
  return rows;
}

function euro(v){ if(!v) return ''; const n=Number(v); if(!isFinite(n)) return ''; return EUR.format(n); }
function el(tag,cls,txt){ const e=document.createElement(tag); if(cls) e.className=cls; if(txt!=null) e.textContent=txt; return e; }

function render(list){
  const superWrap = document.getElementById('super');
  const listWrap  = document.getElementById('list');
  superWrap.innerHTML = listWrap.innerHTML = '';

  const featured = list.filter(p=> (p.featured||'').toLowerCase()==='true');
  const normal   = list.filter(p=> (p.featured||'').toLowerCase()!=='true');

  const draw = (data, container)=>{
    data.forEach(p=>{
      const card = el('article','card');

      // flags
      const labs = (p.labels||'').split('|').map(s=>s.trim()).filter(Boolean);
      if(labs.includes('2')){ card.appendChild(el('div','flag','24h Drop')); }
      if(labs.includes('5')){ const f=el('div','flag','Last Chance'); card.appendChild(f); }
      if((p.featured||'').toLowerCase()==='true'){ const f=el('div','flag green',"Super Deal"); card.appendChild(f); }

      const media = el('div','media'); media.innerHTML=`<img alt="${p.title}" src="${p.image}" loading="lazy">`;
      const body  = el('div','body');
      const title = el('div','title',p.title);
      const meta  = el('div','meta'); meta.innerHTML = `<span>${p.merchant||''}</span><b>${euro(p.price)}</b>`;

      const labels = el('div','labels');
      labs.forEach(l=>{ const span=el('span',`label l${l}`,labelMap[l]||`Label ${l}`); labels.appendChild(span); });

      const cta = el('div','cta');
      const a   = el('a','btn','Shop Now'); a.href=(p.url||'#'); a.target='_blank'; a.rel='noopener';
      const pin = el('a','btn secondary','Save Pin'); pin.href=`https://www.pinterest.com/pin/create/button/?url=${encodeURIComponent(location.href)}&media=${encodeURIComponent(p.image)}&description=${encodeURIComponent(p.title)}`; pin.target='_blank'; pin.rel='noopener';
      cta.append(a,pin);

      body.append(title,meta,labels,cta);
      card.append(media,body);
      container.appendChild(card);
    });
  };

  draw(featured, superWrap);
  draw(normal, listWrap);
}

fetch('./products.csv',{cache:'no-store'})
  .then(r=>{ if(!r.ok) throw new Error('No products.csv'); return r.text(); })
  .then(txt=>{ const items=parseCSV(txt); render(items); })
  .catch(()=>{
    // Friendly empty state
    document.getElementById('super').innerHTML = '<div style="grid-column:1/-1;padding:16px;border:2px dashed #eee;border-radius:12px;background:#fff">Upload <b>products.csv</b> naast <b>index.html</b> om deals te tonen.</div>';
  });

// Footer year
document.getElementById('y').textContent = new Date().getFullYear();
</script>
</body>
</html>
